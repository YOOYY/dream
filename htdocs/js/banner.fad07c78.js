(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["banner"],{2990:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"banner"}},[n("v-headpanel",[n("em",[e._v("首页banner更换")]),e._v("渠道分组及渠道修改操作。 ")]),n("el-row",e._l(e.bannerlist,(function(t,a){return n("el-col",{key:a,attrs:{span:5,offset:a>0?1:0}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:e.website+"/imgs/index/"+t.name+"?"+e.date}}),n("div",{staticClass:"buttonbar"},[n("span",{staticClass:"title"},[e._v("滚屏图片"+e._s(a+1))]),n("v-upload",{attrs:{name:"banner"+(a+1),url:e.url},on:{upload:e.updateImg}})],1)])],1)})),1)],1)},i=[],s=(n("fb6a"),n("a434"),n("5530")),r=n("b3bc"),l=n("d443"),o=n("2f62"),c={data:function(){return{url:"banner",bannerlist:[],date:(new Date).getTime()}},methods:{updateImg:function(e){var t=e.slice(6,7);console.log(e),console.log(t),console.log(this.bannerlist),this.bannerlist.splice(t-1,1,{id:t,name:e}),console.log(this.bannerlist),this.date=(new Date).getTime()}},created:function(){var e=this;return this.get("bannerlist").then((function(t){e.bannerlist=t})).catch((function(t){e.$message({type:"warning",message:"获取列表失败!失败原因:"+t})}))},computed:Object(s["a"])({},Object(o["c"])(["website"])),components:{"v-headpanel":r["a"],"v-upload":l["a"]}},u=c,d=(n("e448"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=p.exports},"6c29":function(e,t,n){"use strict";var a=n("bbb1"),i=n.n(a);i.a},bbb1:function(e,t,n){},d443:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload"},[e._t("default",[n("el-button",{attrs:{type:"danger",size:"small"}},[e._v(" 上传图片 ")])]),n("input",{ref:"inputFile",staticClass:"input-file",attrs:{type:"file",accept:e.uploadType},on:{change:function(t){return e.upload(t)}}}),n("span",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"插入中,请稍候","element-loading-background":"rgba(255, 255, 255, 0.3)"}})],2)},i=[],s=(n("b0c0"),n("d3b7"),{data:function(){return{loading:!1}},props:{uploadType:{type:String,default:"image/jpeg,image/jpg,image/png"},url:{type:String},name:{type:String,default:""}},methods:{upload:function(e){var t=this,n=e.target.files[0];if(n){this.loading=!0;var a=new FormData;a.append("multfile",n),a.append("name",this.name),this.ajax(this.url,a).then((function(e){e?(t.$emit("upload",e),t.$message({type:"success",message:"上传成功！"}),t.clearFiles(),t.loading=!1):Promise.reject("上传失败")})).catch((function(e){console.log(e),e?t.$message({type:"error",message:e}):t.$message({type:"error",message:"上传失败"}),t.clearFiles(),t.loading=!1}))}},clearFiles:function(){this.$refs.inputFile.value=""}}}),r=s,l=(n("6c29"),n("2877")),o=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=o.exports},d8ed:function(e,t,n){},e448:function(e,t,n){"use strict";var a=n("d8ed"),i=n.n(a);i.a},fb6a:function(e,t,n){"use strict";var a=n("23e7"),i=n("861d"),s=n("e8b5"),r=n("23cb"),l=n("50c4"),o=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),p=n("ae40"),g=d("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),b=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!g||!f},{slice:function(e,t){var n,a,u,d=o(this),p=l(d.length),g=r(e,p),f=r(void 0===t?p:t,p);if(s(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?i(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return b.call(d,g,f);for(a=new(void 0===n?Array:n)(v(f-g,0)),u=0;g<f;g++,u++)g in d&&c(a,u,d[g]);return a.length=u,a}})}}]);
//# sourceMappingURL=banner.fad07c78.js.map