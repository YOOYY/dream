(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["banner"],{2990:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"banner"}},[a("v-headpanel",[a("em",[e._v("banner更换")]),e._v(" 首页图片格式是为1920*600px的jpg或png，其他图片格式是大小为1920*420px的jpg，建议用tinypng压缩 ")]),a("el-row",e._l(e.bannerlist,(function(t,n){return a("el-col",{key:n,style:n%4===0?"clear:both":"",attrs:{span:5,offset:n%4===0?0:1}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.website+"/imgs/"+t.path+"/"+t.name+"?"+e.date}}),a("div",{staticClass:"buttonbar"},[a("span",{staticClass:"title"},[e._v(e._s(t.label))]),a("v-upload",{attrs:{name:t.name.slice(0,-4),url:e.url,path:t.path},on:{upload:e.updateImg}})],1)])],1)})),1)],1)},i=[],s=(a("fb6a"),a("a434"),a("5530")),r=a("b3bc"),l=a("d443"),c=a("2f62"),o={data:function(){return{url:"banner",bannerlist:[],date:""}},methods:{updateImg:function(e,t){if("index"===t){var a=e.slice(6,7);this.bannerlist.splice(a-1,1,{id:a,name:e})}this.date=(new Date).getTime()}},created:function(){var e=this;return this.get("bannerlist").then((function(t){e.bannerlist=t})).catch((function(t){e.$message({type:"warning",message:"获取列表失败!失败原因:"+t})}))},computed:Object(s["a"])({},Object(c["c"])(["website"])),components:{"v-headpanel":r["a"],"v-upload":l["a"]}},u=o,p=(a("e448"),a("2877")),d=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},"6c29":function(e,t,a){"use strict";var n=a("bbb1"),i=a.n(n);i.a},bbb1:function(e,t,a){},d443:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload"},[e._t("default",[a("el-button",{attrs:{type:"danger",size:"small"}},[e._v(" 上传图片 ")])]),a("input",{ref:"inputFile",staticClass:"input-file",attrs:{type:"file",accept:e.uploadType},on:{change:function(t){return e.upload(t)}}}),a("span",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"插入中,请稍候","element-loading-background":"rgba(255, 255, 255, 0.3)"}})],2)},i=[],s=(a("b0c0"),a("d3b7"),{data:function(){return{loading:!1}},props:{uploadType:{type:String,default:"image/jpeg,image/jpg,image/png"},url:{type:String},path:{type:String},name:{type:String,default:""}},methods:{upload:function(e){var t=this,a=e.target.files[0];if(a){this.loading=!0;var n=new FormData;n.append("multfile",a),n.append("name",this.name),this.path&&n.append("path",this.path);var i=this.path||"";this.ajax(this.url,n).then((function(e){e?(t.$emit("upload",e,i),t.$message({type:"success",message:"上传成功！"}),t.clearFiles(),t.loading=!1):Promise.reject("上传失败")})).catch((function(e){console.log(e),e?t.$message({type:"error",message:e}):t.$message({type:"error",message:"上传失败"}),t.clearFiles(),t.loading=!1}))}},clearFiles:function(){this.$refs.inputFile.value=""}}}),r=s,l=(a("6c29"),a("2877")),c=Object(l["a"])(r,n,i,!1,null,null,null);t["a"]=c.exports},d8ed:function(e,t,a){},e448:function(e,t,a){"use strict";var n=a("d8ed"),i=a.n(n);i.a},fb6a:function(e,t,a){"use strict";var n=a("23e7"),i=a("861d"),s=a("e8b5"),r=a("23cb"),l=a("50c4"),c=a("fc6a"),o=a("8418"),u=a("b622"),p=a("1dde"),d=a("ae40"),f=p("slice"),g=d("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),b=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!f||!g},{slice:function(e,t){var a,n,u,p=c(this),d=l(p.length),f=r(e,d),g=r(void 0===t?d:t,d);if(s(p)&&(a=p.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?i(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return b.call(p,f,g);for(n=new(void 0===a?Array:a)(h(g-f,0)),u=0;f<g;f++,u++)f in p&&o(n,u,p[f]);return n.length=u,n}})}}]);
//# sourceMappingURL=banner.1dc8600b.js.map